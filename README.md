# ESP32_tracke_gps_wialon_ips
Использование ESP32 В качестве трекера, работа с сервером WIALON от GURTAM по протоколу WIALON IPS 1.1.
i.x.c.o.n@yandex.ru https://t.me/SuverenDmitry

//01.03.2024

Добавлена 7 версия кода  для ESP32 CAM.
Доступный функционал:
1. При  первом запуске,  загружаются настройки по умолчанию.
2. Возможность через USB вносить изменения  в настройки  работы, все настройки храняться в памяти платы.
3. Время для пакетов берется: pool.ntp.org
4. Поддерживается работа с GPS модулем NEO 6M, данные о местоположении  записываются в пакет, без фильтрации.
5. Поддерживается получение и выполнение команд от сервера.
6. Повышена стабильность работы всех функций.
7. Добавлено, что теперь при остуствии соеденения с WiFi плата будет пытаться работать, выполнять команды по USB, а не тупо перезагружаться.
8. Для отправки данных на сервер используются урезанные пакеты SD по TPC.
9. Плата поддерживает работу по протоколу WIALON IPS
10. Работает с серверами:
* gps.trekberry.ru
* gps.gpslife.ru
* wialon
* wialon local
* wialon pro
* ГЛОНАССсофт
* СКАУТ
* Navixy
* Где мои
* Fort Telecom
* PILOT
* flespi.com
* traccar.org
* другие сервера у которых есть поддержка Wialon IPS 1.1 протокола

//END 01.03.2024

//28.02.2024

Достпуна 5 версия разработки.
Что нового: теперь GPS работает  более стабильно.

Какие  есть не достатки:
В протоколе  разбираются не все данные, например отсуствует скорость или HDOP.
Координаты скачут на месте, нет ни какой фильтрации.
А так же наблюдается не стабильность в  работе с командами от сервера, выполняется примерно 50% команд, или они выполняются,но нет отправки  ответа на сервер.

Заключение по 5 версии: Если  заменить вайфай на GSM то по характеристикам сравнялись с китайскими трекерами  за 1200-1500 рублей.

//END 28.02.2024

//27.02.2024

Подправил глюки и  баги, пока остался баг с GPS корявым определением, остальное подправил.

//END 27.02.2024

//19.01.2024

Добавил частично функции  работы с GPS. Дописал функцию получения данных от сервера.

Дополнил: получением и разбором данных от GPS модуля, теперь получаем  команды и можем с ними работать. Исправил ошибки в коде, подправил  защиту от зависаний.

//END 19.01.2024

//18.01.2024

Все сделано на основе платы ESP32 CAM.
На GPIO16 висит GPS модуль NEO 6, который передает данные о своем местоположении.
В данном коде не настроен разбор данных от GPS модуля и  прием команд или обработка  ошибок.
Все данные передаются через WiFi хранения или  запись не предусмотрена.
Дополнительно воможно внедрить: Камеру, протокол ее поддерживает. Тексторые сообщения, как от сервера, но и при наличии возможности и от самого модуля. Выполнение команд, такие как сделать фото или считать значение с пина или  заблокировать, управление по минусу.

//END 18.01.2024
